// Code generated by protoc-gen-go. DO NOT EDIT.
// source: ClusterId.proto

package pb

import proto "github.com/golang/protobuf/proto"
import fmt "fmt"
import math "math"

// Reference imports to suppress errors if they are not otherwise used.
var _ = proto.Marshal
var _ = fmt.Errorf
var _ = math.Inf

// *
// Content of the '/hbase/hbaseid', cluster id, znode.
// Also cluster of the ${HBASE_ROOTDIR}/hbase.id file.
type ClusterId struct {
	// This is the cluster id, a uuid as a String
	ClusterId        *string `protobuf:"bytes,1,req,name=cluster_id,json=clusterId" json:"cluster_id,omitempty"`
	XXX_unrecognized []byte  `json:"-"`
}

func (m *ClusterId) Reset()                    { *m = ClusterId{} }
func (m *ClusterId) String() string            { return proto.CompactTextString(m) }
func (*ClusterId) ProtoMessage()               {}
func (*ClusterId) Descriptor() ([]byte, []int) { return fileDescriptor4, []int{0} }

func (m *ClusterId) GetClusterId() string {
	if m != nil && m.ClusterId != nil {
		return *m.ClusterId
	}
	return ""
}

func init() {
	proto.RegisterType((*ClusterId)(nil), "pb.ClusterId")
}

func init() { proto.RegisterFile("ClusterId.proto", fileDescriptor4) }

var fileDescriptor4 = []byte{
	// 126 bytes of a gzipped FileDescriptorProto
	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0xff, 0xe2, 0xe2, 0x77, 0xce, 0x29, 0x2d,
	0x2e, 0x49, 0x2d, 0xf2, 0x4c, 0xd1, 0x2b, 0x28, 0xca, 0x2f, 0xc9, 0x17, 0x62, 0x2a, 0x48, 0x52,
	0xd2, 0xe2, 0xe2, 0x84, 0x0b, 0x0b, 0xc9, 0x72, 0x71, 0x25, 0x43, 0x38, 0xf1, 0x99, 0x29, 0x12,
	0x8c, 0x0a, 0x4c, 0x1a, 0x9c, 0x41, 0x9c, 0xc9, 0x30, 0x69, 0x27, 0x27, 0x2e, 0xad, 0xfc, 0xa2,
	0x74, 0xbd, 0xc4, 0x82, 0xc4, 0xe4, 0x8c, 0x54, 0xbd, 0x8c, 0xc4, 0x94, 0xfc, 0xfc, 0x02, 0xbd,
	0x8c, 0xa4, 0xc4, 0xe2, 0x54, 0x88, 0x81, 0x49, 0xa5, 0x69, 0x7a, 0xe9, 0xa9, 0x79, 0xa9, 0x45,
	0x89, 0x25, 0xa9, 0x29, 0x4e, 0x08, 0xeb, 0x02, 0x40, 0x92, 0xc5, 0x1e, 0x8c, 0x0b, 0x18, 0x19,
	0x01, 0x01, 0x00, 0x00, 0xff, 0xff, 0x3d, 0x70, 0xa4, 0x7a, 0x85, 0x00, 0x00, 0x00,
}
