package http

import (
	"net/http"

	"go-common/app/service/bbq/user/internal/conf"
	"go-common/app/service/bbq/user/internal/service"
	"go-common/library/log"
	bm "go-common/library/net/http/blademaster"
	"go-common/library/net/http/blademaster/middleware/verify"
)

var (
	vfy *verify.Verify
	svc *service.Service
)

// Init init
func Init(c *conf.Config, s *service.Service) {
	svc = s
	vfy = verify.New(c.Verify)
	engine := bm.DefaultServer(c.BM)
	route(engine)
	if err := engine.Start(); err != nil {
		log.Error("bm Start error(%v)", err)
		panic(err)
	}
}

func route(e *bm.Engine) {
	e.Ping(ping)
	e.Register(register)
	g := e.Group("/x/user")
	{
		g.GET("/black/list", userBlackList)
		g.GET("/info/list", userInfoList)
		g.POST("/modify", auditModifyUser)
		g.POST("/modify/cms_tag", auditModifyCmsTag)
		g.POST("/forbid", forbidUser)
		g.POST("/release", releaseUser)
		g.POST("/video/view", updateUserVideoView)
	}
}

func ping(ctx *bm.Context) {
	if err := svc.Ping(ctx); err != nil {
		log.Error("ping error(%v)", err)
		ctx.AbortWithStatus(http.StatusServiceUnavailable)
	}
}

func register(c *bm.Context) {
	c.JSON(map[string]interface{}{}, nil)
}
