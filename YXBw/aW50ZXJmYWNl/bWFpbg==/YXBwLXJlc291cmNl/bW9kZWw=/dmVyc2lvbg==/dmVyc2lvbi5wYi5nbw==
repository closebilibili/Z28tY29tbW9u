// Code generated by protoc-gen-go.
// source: version.proto
// DO NOT EDIT!

/*
Package version is a generated protocol buffer package.

It is generated from these files:
	version.proto

It has these top-level messages:
	VerUpdate
*/
package version

import proto "github.com/golang/protobuf/proto"
import fmt "fmt"
import math "math"

// Reference imports to suppress errors if they are not otherwise used.
var _ = proto.Marshal
var _ = fmt.Errorf
var _ = math.Inf

// This is a compile-time assertion to ensure that this generated file
// is compatible with the proto package it is being compiled against.
// A compilation error at this line likely means your copy of the
// proto package needs to be updated.
const _ = proto.ProtoPackageIsVersion2 // please upgrade the proto package

type VerUpdate struct {
	Ver     string `protobuf:"bytes,1,opt,name=ver" json:"ver,omitempty"`
	Build   int32  `protobuf:"varint,2,opt,name=build" json:"build,omitempty"`
	Info    string `protobuf:"bytes,3,opt,name=info" json:"info,omitempty"`
	Size    int32  `protobuf:"varint,4,opt,name=size" json:"size,omitempty"`
	Url     string `protobuf:"bytes,5,opt,name=url" json:"url,omitempty"`
	Hash    string `protobuf:"bytes,6,opt,name=hash" json:"hash,omitempty"`
	Policy  int32  `protobuf:"varint,7,opt,name=policy" json:"policy,omitempty"`
	IsForce int32  `protobuf:"varint,8,opt,name=isForce" json:"isForce,omitempty"`
	IsGray  int32  `protobuf:"varint,9,opt,name=isGray" json:"isGray,omitempty"`
	Mtime   int64  `protobuf:"varint,10,opt,name=mtime" json:"mtime,omitempty"`
}

func (m *VerUpdate) Reset()                    { *m = VerUpdate{} }
func (m *VerUpdate) String() string            { return proto.CompactTextString(m) }
func (*VerUpdate) ProtoMessage()               {}
func (*VerUpdate) Descriptor() ([]byte, []int) { return fileDescriptor0, []int{0} }

func init() {
	proto.RegisterType((*VerUpdate)(nil), "version.VerUpdate")
}

func init() { proto.RegisterFile("version.proto", fileDescriptor0) }

var fileDescriptor0 = []byte{
	// 196 bytes of a gzipped FileDescriptorProto
	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x09, 0x6e, 0x88, 0x02, 0xff, 0x34, 0x8f, 0xcb, 0x8a, 0xc3, 0x30,
	0x0c, 0x45, 0xc9, 0xe4, 0x35, 0x11, 0x0c, 0x0c, 0x66, 0x18, 0xb4, 0x2c, 0x5d, 0x75, 0xd5, 0x4d,
	0xff, 0xa1, 0xdd, 0x07, 0xda, 0x7d, 0x1e, 0x2e, 0x11, 0x24, 0x71, 0xb0, 0x93, 0x42, 0xfa, 0xb7,
	0xfd, 0x93, 0x5a, 0x72, 0xba, 0x3b, 0x47, 0xba, 0x57, 0xd8, 0xf0, 0xf3, 0xd0, 0xd6, 0x91, 0x19,
	0x8f, 0x93, 0x35, 0xb3, 0x51, 0xf9, 0xa6, 0xfb, 0x57, 0x04, 0xc5, 0x4d, 0xdb, 0xeb, 0xd4, 0x56,
	0xb3, 0x56, 0xbf, 0x10, 0xfb, 0x05, 0x46, 0xbb, 0xe8, 0x50, 0x94, 0x8c, 0xea, 0x0f, 0xd2, 0x7a,
	0xa1, 0xbe, 0xc5, 0x2f, 0x3f, 0x4b, 0xcb, 0x20, 0x4a, 0x41, 0x42, 0xe3, 0xdd, 0x60, 0x2c, 0x41,
	0x61, 0x9e, 0x39, 0x7a, 0x6a, 0x4c, 0x24, 0x28, 0xcc, 0xf7, 0x16, 0xdb, 0x63, 0x1a, 0xee, 0x79,
	0xe4, 0x54, 0x57, 0xb9, 0x0e, 0xb3, 0xd0, 0x64, 0x56, 0xff, 0x90, 0x4d, 0xa6, 0xa7, 0x66, 0xc5,
	0x5c, 0xba, 0x9b, 0x29, 0x84, 0x9c, 0xdc, 0xd9, 0xd8, 0x46, 0xe3, 0xb7, 0x2c, 0x3e, 0xca, 0x0d,
	0x72, 0x17, 0x5b, 0xad, 0x58, 0x84, 0x46, 0x30, 0x7e, 0xed, 0x30, 0xd3, 0xa0, 0x11, 0xfc, 0x38,
	0x2e, 0x83, 0xd4, 0x99, 0xfc, 0xf9, 0xf4, 0x0e, 0x00, 0x00, 0xff, 0xff, 0x5a, 0x56, 0x88, 0xe5,
	0x04, 0x01, 0x00, 0x00,
}
